/*
* bootstrap-table - v1.10.1 - 2016-03-09
* https://github.com/wenzhixin/bootstrap-table
* Copyright (c) 2016 zhixin wen
* Licensed MIT License
*/
!function(a){"use strict";a.extend(a.fn.bootstrapTable.defaults,{editable:!0,onEditableInit:function(){return!1},onEditableSave:function(){return!1}}),a.extend(a.fn.bootstrapTable.Constructor.EVENTS,{"editable-init.bs.table":"onEditableInit","editable-save.bs.table":"onEditableSave"});var b=a.fn.bootstrapTable.Constructor,c=b.prototype.initTable,d=b.prototype.initBody;b.prototype.initTable=function(){var b=this;c.apply(this,Array.prototype.slice.apply(arguments)),this.options.editable&&a.each(this.columns,function(c,d){if(d.editable){var e={},f="editable-",h=function(a,b){var c=a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()});if(c.slice(0,f.length)==f){var d=c.replace(f,"data-");e[d]=b}};a.each(b.options,h);var i=d.formatter;d.formatter=function(a,c,e){var f=i?i(a,c,e):a;if(c.canEdit){var h=d.editable.type,j=d.editable.source,k=({number:['<input type="number" class="tableInputNumber"',' data-name="'+d.field+'"',' data-pk="'+c[b.options.idField]+'"',' data-value="'+f+'"',' value="'+f+'"/>'],select:["<select class='tableInputSelect' size=1",' data-name="'+d.field+'"',' data-pk="'+c[b.options.idField]+'"',' data-value="'+f+'">'],text:['<input class="tableInputText" type="text"',' data-name="'+d.field+'"',' data-pk="'+c[b.options.idField]+'"',' data-value="'+f+'"',' value="'+f+'"/>'],textarea:['<textarea class="tableInputArea" rows=2 style="font-size:10px;"',' data-name="'+d.field+'"',' data-pk="'+c[b.options.idField]+'"',' data-value="'+f+'">',g,"</textarea>"]},editMap[h]);return"select"==h&&(_.forEach(j,function(a){k.push(a.value==f?'<option value="'+a.value+'" selected>'+a.text+"</option>":'<option value="'+a.value+'">'+a.text+"</option>")}),k.push("</select>")),k.join("")}return f}}})},b.prototype.initBody=function(){var b=this;d.apply(this,Array.prototype.slice.apply(arguments)),this.options.editable&&(a.each(this.columns,function(c,d){d.editable&&(b.$body.find('input[data-name="'+d.field+'"]').off("change").on("change",function(){var c=b.getData(),e=a(this).parents("tr[data-index]").data("index"),f=c[e],g=f[d.field];f[d.field]=a(this).val(),b.trigger("editable-save",d.field,f,g,a(this)),b.resetFooter()}),b.$body.find('select[data-name="'+d.field+'"]').off("change").on("change",function(){var c=b.getData(),e=a(this).parents("tr[data-index]").data("index"),f=c[e],g=f[d.field];f[d.field]=a(this).val(),b.trigger("editable-save",d.field,f,g,a(this)),b.resetFooter()}),b.$body.find('textarea[data-name="'+d.field+'"]').off("change").on("change",function(){var c=b.getData(),e=a(this).parents("tr[data-index]").data("index"),f=c[e],g=f[d.field];f[d.field]=a(this).val(),b.trigger("editable-save",d.field,f,g,a(this)),b.resetFooter()}))}),this.trigger("editable-init"))}}(jQuery);